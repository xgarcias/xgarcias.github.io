---
layout: post
title: Metasploit Linux Post Exploitation
date: '2011-06-08T13:22:00.001+02:00'
author: Xavier Garcia
tags:
- Linux
- post explotation
- Metasploit
modified_time: '2011-06-08T13:23:18.773+02:00'
blogger_id: tag:blogger.com,1999:blog-8534555958859253862.post-3428322528635917425
blogger_orig_url: http://www.shellguardians.com/2011/06/metasploit-linux-post-exploitation.html
---
Via [digininja](http://twitter.com/#!/digininja)'s Twitter account, I have found this [blog post](http://eromang.zataz.com/2011/06/08/metasploit-linux-post-exploitation-enumeration-and-hash-dump/)  that describes a set of Metasploit Linux Post Exploitation modules.  
  
  
I think the list of executed commands is more or less complete, but I would also add the following :  
  
Currently logged users and server uptime.
```
$ w
```
  
all opened connections (TCP,UDP and Unix sockets) and the r espective PID/UID
```
$ netstat -pan
```
  
same as before but only TCP and UDP
```
$ lsof -nn | egrep "TCP| UDP"
```
  
The mount command only displays the currently mounted devices. We may find a commented line or a device that is not automatically mounted
```
$ cat /etc/fstab
```
  
Is the server exporing NFS volumes?
```
$ cat /etc/exports
```
  
tree view of all the processes
```
$ ps faxu
```
  
last users that logged to the system. The -a flag puts the complete remote hostname on the last column  
```
$ last -a
```

similar to the previous one
```
$ lastlog
```
  
quick view of the log policy in the computer. The default is 4 weeks worth of logs.
```
$ ls -lat /var/log
```
  
Are they sending logs to a centralized system?
```
$ cat /etc/syslog.conf
```
